rm -rf raw/ cad/
mkdir raw

echo "=== Downloading ispd2005 ==="
wget --no-check-certificate "https://my.microsoftpersonalcontent.com/personal/2c6e2bbdaffc31ad/_layouts/15/download.aspx?UniqueId=a93679ab-642c-4d3f-899a-3cd6eb0ea678&Translate=false&tempauth=v1e.eyJzaXRlaWQiOiIxNjFmMTQzMS1hY2RiLTQ2MDAtYjVmMi1hYzAzYjc3MzljODQiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbXkubWljcm9zb2Z0cGVyc29uYWxjb250ZW50LmNvbUA5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWQiLCJleHAiOiIxNzY4NTMxMTQyIn0.SORUHQUYT6E-iLw1KEPA0jzGS1zDIdMVzdsjODIqgLsHR1krSvFxF3Zgq87pbxD9jkzI6bUK-QRIwDdDIwMZ35vuQJTvid24CZq1A1rBwGbgQTdvikr6w4_C9SrGRwhh4YSC5EEwnS-t6gvA5izYZEBRc47bIVsVz1-E-Gl0Ri3cg3Y5IuRRxQxgy8sgPGMK0REPpR566MlvqADqRYo2uIEOThtNioX_8iRzco44uxcbq7qZoOlwgquSfqUETkogtAjcOgnXCQw9ZAzz9_cHUeS5VDNLclexSJwu6AmfXQnkNldh0xUNrs6ukYKYuRyhkYg2wyw-F5puFUt6BPhHon0_wotBDyM7WdANyLGqkeNxvthet9tNgtJVrg_JqurFaZfjV6HwzPvuiyea5iPcd6t941lcsOxQEgZ1Y61Apm7Lux-xtPs0FqLKFi9xP-OUuRNc_KS9gTmdhMZQb6ZJVsxWb7c8YDBiOGgWPlgFCCK2Aqubmp_JfyBqdqK4qHRHGIdPrzrUHgXpswEa4uiZoA.B05KwwFxeWI9EdS4OY7_42EHI_AqEQGCeOH1IaZmfp8&ApiVersion=2.0" -O ispd2005.tar.gz
tar xvzf ispd2005.tar.gz
rm -rf ispd2005.tar.gz
mv ispd2005/ raw/

echo "=== Downloading ispd2006"
wget --no-check-certificate "https://my.microsoftpersonalcontent.com/personal/2c6e2bbdaffc31ad/_layouts/15/download.aspx?UniqueId=c32d162f-9544-41ac-9849-05a4ea506f86&Translate=false&tempauth=v1e.eyJzaXRlaWQiOiIxNjFmMTQzMS1hY2RiLTQ2MDAtYjVmMi1hYzAzYjc3MzljODQiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbXkubWljcm9zb2Z0cGVyc29uYWxjb250ZW50LmNvbUA5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWQiLCJleHAiOiIxNzY4NTMxMjY4In0.zJ5wKSLtyAsG2O3Y_QevjN7B6zI8-p75YQecq9QcBbA5GhVxhKZHuUzSwxq00RV9392QXCwN61t59OPRHI2sZ_veEEb3lY3TvRzsjWeKWVDoSsPYCFhZOenADLmumjl-G_Vw0cEWq6PLrMlMhbPmmbGShEJWKwpkhspcbIysVuxGTAudyVfEmV_AVChqakKhYFoXJn148hkR6jGWSLRGQdZXNHJsB6byP7GD9MTt_meBEL-94xtNNd359iDYMXYuSkhGhs0PDVTAvKQWG3YAXs2egbcMHjYGJcOOlNGkReZGMmiqZfvFHr79h9OJm09-FdtOSvDeZHDdB1jIxydfSuHmlaw5oZupjS221kCuZ7onlTvCHmk0dM4NPBWulhl4Vpm3Qn_8ED3xh_ShjocsfpYosGSzA2Jn5BV4oxKugkf5UVD11VFHgh4txcch3-jr0hpMffnsKyVqUB2ibKWZM2l6hzzmiMiReQXRugeE0qXFf6TFKescu_USUy4NeuwKtS1DH3y3xaVBGre7nrD1aA.tmfQbumU16lMiXZWvK09U2D2VXBiyLUpy4VAlr3edE8&ApiVersion=2.0" -O ispd2006.tar.gz
tar xvzf ispd2006.tar.gz
rm -rf ispd2006.tar.gz
mv ispd2006/ raw/

echo "=== Downloading mms"
wget --no-check-certificate "https://my.microsoftpersonalcontent.com/personal/2c6e2bbdaffc31ad/_layouts/15/download.aspx?UniqueId=974ab520-6d9e-4b44-8600-ead07ba19ae5&Translate=false&tempauth=v1e.eyJzaXRlaWQiOiIxNjFmMTQzMS1hY2RiLTQ2MDAtYjVmMi1hYzAzYjc3MzljODQiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbXkubWljcm9zb2Z0cGVyc29uYWxjb250ZW50LmNvbUA5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWQiLCJleHAiOiIxNzY4NTMxMzIyIn0.rQGowUU9Z61CiHqjBU5Rqt2OZpGHKyXYt16wLq7K3SrpbUv-8Z6kXAmBMduBsdCeNCJsyZxvVawyX7-rPmdddCmtjUyWXcsYJMJA6JLRAXJYSzPmfOTFYGUGM-cboMpiAaYcON2cdLk7mZHQRYBYvgCELa-4CYgzg6Iv5K1kYAHYe_ddy_yqO7wcdqFMjo380s6NHQhnYM-mdwShzI1rFNO0evl2D8DHFpZhk2jU_3JrIsPVl0bQhu-mUTBZBsCXrsYsr_hkw8erkCwHoriFBUzmxvmpt_nHFT8k88OI__B4SGJID6lExDKjYdjFnR12uA6kH_IkRmVw9rJ69__gJSng3wXdxXuJZuMzoT_qqqlUGZYddMpDE8ReZLyz_llSWxxqzKgVXICov2nMaan6v0Ew_LB2zXVdnT2DH-QG0H8Gg3zbaB4ufunP0CjfcAjedTLYTTJQWFCxuPWpMfiIzT1stZe-4rV2JhrKrEcInfZmna1C9Y2Wcrv6gc6qA3j4V5RBRhTHpKiBiWjXZIWT1A.v2_nSzV6HWA6TTdpLZjLN7LLD2rzFPeRswgH9qGQ2Gs&ApiVersion=2.0" -O mms.tar.gz
tar xvzf mms.tar.gz
rm -rf mms.tar.gz
mv mms/ raw/

echo "=== Downloading ispd2015 ==="
wget --no-check-certificate "https://my.microsoftpersonalcontent.com/personal/2c6e2bbdaffc31ad/_layouts/15/download.aspx?UniqueId=59a1cb5e-92d5-4158-8f8f-69f0f8523d2b&Translate=false&tempauth=v1e.eyJzaXRlaWQiOiIxNjFmMTQzMS1hY2RiLTQ2MDAtYjVmMi1hYzAzYjc3MzljODQiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbXkubWljcm9zb2Z0cGVyc29uYWxjb250ZW50LmNvbUA5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWQiLCJleHAiOiIxNzY4NTMxNDUzIn0.Pxj66QCK0E-oukDQuPMiess3KZELvMadA-EU0W89Mpy5Onswp4IOiXKL-xrC8ljRiLynDX0kmdO7sjrCxooAm3bRw0clsDe9_cNgWGgRRGf5YUqnTeYKvSoZRYp7z51zZOjFqcXAxSA9E73dgsKhSG8F8Oa9HhKAbi0XVhHltfTKsk2DhSddghId3y_dQ-euQ3hu4cS7dGpOBkjBV9_Bp7L3WMEfByQq_mIT35cjkU_vFo0wBZt6FqNqyeDuErCdvchoMLIL4nB3mzETIYK3jYUwDtGriFMnqazPvNDcfjsw2kItEREMF4d5akPJ5vkM67mLbsVbpwmdxKC2K4HQ_Bo4eEk68CX3M15k6S7FsBRy6QmwMWhBYvLmVOI_9WHf-MaHUA_udQgbabIsQ0dqaw1MONFI2blaL_X7fsJzeZkp2k6EhaJXNzrLBW6gb9AEIHTjlWAOwoihUnx7CgL282X4lOoUQqcF27OiQkzL8_fIW3T8BnK1mawIi-CM_OVUJ0Mhf-i92MGZ-c3m_rucew.BQC98p8h0q3TlJ3jnK2jsKKCxp8oFKg6H3wc6cH39HQ&ApiVersion=2.0" -O ispd2015.tar.gz
tar xvzf ispd2015.tar.gz
rm -rf ispd2015.tar.gz
mv ispd2015/ raw/
echo "=== Preprocessing ispd2015 to generate ispd2015_fix ==="
python fix_ispd2015_route.py

echo "=== Downloading iccad2015 ==="
wget --no-check-certificate "https://my.microsoftpersonalcontent.com/personal/2c6e2bbdaffc31ad/_layouts/15/download.aspx?UniqueId=b94045f1-a994-4463-88b2-cba7f6dbb4d4&Translate=false&tempauth=v1e.eyJzaXRlaWQiOiIxNjFmMTQzMS1hY2RiLTQ2MDAtYjVmMi1hYzAzYjc3MzljODQiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbXkubWljcm9zb2Z0cGVyc29uYWxjb250ZW50LmNvbUA5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWQiLCJleHAiOiIxNzY4NTU1MzI0In0.3sVurQ9FiRIQLb7pnyADkorbXmMyUe9JYKvMHmq9rI7-hjEyC2OpGBQ9m_XdMJbt6gg5aqtB7PB8NBzOm8wmMddEDXjrmux8Oc_AJzr5C6u6CCXf66r7veLqglDqzLqa_gv3uzLUQHQJPqMS6XLSootKBtrkn-NZ5zTzstT_N-3KQFQRGGl67z3RNr82YJlHlovTJB2lE8uqIm5ORPfWK4GW4PIv50ZUGapYpLBjUPQn5jvvEQnz2LIQ9ggDagCVHO20Z8_9ghgXMp4ihFRRZmi3rDbcxXJCD3nR3RPZcQhOcrXWRjVC12MdE495kDfZSkO3Ac8DmJCH3-yFtO0MiAqczLEGC9rjVQCq8RsbqQiL8RcICRYSz-hv3lZ0Zv57iGjl0FwUg3g_vaOiyA8rqnrM7qFI9wtauAin0H0qmhWWF2dtGIS2tzy_vaI8ogv94-r6sbstulQynG1bikLDRvM426HyvMEMytVuQ8-Ua7ShwlOM6sWjbU2m-WvRBcQk5e-2P0fxA2w9yOQ_DSwWLw.pbZ7silKos4lfqP-h5ovic9Oi7n598fZ7DnY4KUaMpg&ApiVersion=2.0" -O iccad2015.tar.gz
tar xvzf iccad2015.tar.gz
rm -rf iccad2015.tar.gz
mv iccad2015/ raw/

echo "=== Downloading iccad2019 ==="
wget --no-check-certificate "https://my.microsoftpersonalcontent.com/personal/2c6e2bbdaffc31ad/_layouts/15/download.aspx?UniqueId=6e1564b9-00be-49db-b0df-76fec2b60269&Translate=false&tempauth=v1e.eyJzaXRlaWQiOiIxNjFmMTQzMS1hY2RiLTQ2MDAtYjVmMi1hYzAzYjc3MzljODQiLCJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvbXkubWljcm9zb2Z0cGVyc29uYWxjb250ZW50LmNvbUA5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWQiLCJleHAiOiIxNzY4NTMxNDk5In0.YWYkH7i-SSrW4xAtboNiygfskG0U84lOZK-Bc5tybJI94aWCNGi01ENAeP9IaffjIWeoKK5y2n3xGfs32J4CNYsI9CU0HdrGPD1CUJ4mZSjjyuyAXLESAlTt684NubtHE9bWUkcMyR1SeoOQCFTS5eWoT9in4AWCQjDVFrs4-t10qHStSCh1jICMxbGNjMgKDF-vHINXWVeWwuNtPz0w670BYzQ9TdSOz2H35nUeIAYJ686J-1_lR79Shulssir9ZxcVgkWK2tgh_bN35-rUxwfPgv9AP9Yi-Jr-w-dUZAAsb4D7kIpVOmQkVAkEGPbgs-D6Sy2frGdHljq4QFHVJnpPx_C2N0GHQq2NqPArD2j04D7Akw4RgnAg_FAYfNcr__6qqdV7Pxf8CEWY8kdayhCCOcETqy1bRvT9nGmBYjUupe4KOThi5zAtLrEhXrfW2L01scvCBVCd4fWmxC6VYsTr4GwLjnozmkdM-La-ueUaRDw27upjmYLZTJm1uCLz3z6YA9HIpJ7e7RDIR1Ifeg.foBSA5Wgrnlww8Fy9KwJlqDmiDnovRNvpaTiCDP9iZQ&ApiVersion=2.0" -O iccad2019.tar.gz
tar xvzf iccad2019.tar.gz
rm -rf iccad2019.tar.gz
mv iccad2019/ raw/

echo "=== Downloading ispd2018 ==="
mkdir raw/ispd2018
for i in {1..10}
do
    wget --no-check-certificate https://www.ispd.cc/contests/18/ispd18_test$i.tgz
    tar xvzf ispd18_test$i.tgz
    rm -rf ispd18_test$i.tgz
    mv ispd18_test$i/ raw/ispd2018/
done

echo "=== Downloading ispd2019 ==="
mkdir raw/ispd2019
for i in {1..10}
do
    wget --no-check-certificate https://www.ispd.cc/contests/19/benchmarks/ispd19_test$i.tgz
    tar xvzf ispd19_test$i.tgz
    rm -rf ispd19_test$i.tgz
    mv ispd19_test$i/ raw/ispd2019/
done
python remove_fence_in_ispd19_test5.py

# echo "=== (Optional) Converting raw design to torch data ==="
# python convert_design_to_torch_data.py --dataset ispd2005
# python convert_design_to_torch_data.py --dataset ispd2015_fix
# python convert_design_to_torch_data.py --dataset iccad2019
# python convert_design_to_torch_data.py --dataset ispd2019